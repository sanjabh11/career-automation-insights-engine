# PBI-0001-23: Skill Recommendations â€“ Remove Runtime Sample Resource Inserts

Type: code
Status: InProgress

## Goal
Ensure the `skill-recommendations` function does not insert sample resources at runtime. Rely on migration seeding and show empty states in the UI instead.

## Files
- `supabase/functions/skill-recommendations/index.ts`

## Changes
- Remove the conditional insertion of sample rows into `ai_reskilling_resources`.
- Return only the recommendations generated by Gemini or cached rows.

## Test Plan
1. Truncate `ai_reskilling_resources` (in a dev DB) and invoke `skill-recommendations`:
   - The function must not insert any resources.
   - Response should include recommendations array only.
2. With seeded resources present:
   - Recommendations return as before; no extra side effects.
3. Regression check in UI:
   - Empty-state handling for resources behaves correctly (no fabricated/populated data).

## Rollback Plan
Revert the file to prior version.
